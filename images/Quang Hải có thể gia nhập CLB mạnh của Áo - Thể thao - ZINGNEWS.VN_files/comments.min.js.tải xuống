/*! For license information please see comments.min.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{102:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"e",(function(){return a})),n.d(e,"d",(function(){return m})),n.d(e,"a",(function(){return s}));var o=n(0),i=function(t,e){var n,i,r,a,m,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.W,c="",l=!e||!1!==e.year;return m=parseInt(t)<1e4?new Date(t.replace(/-/g,"/").replace("+"," +")):new Date(1e3*(parseInt(t)-s)),e&&!0===e.friendly&&(n=Date.now()-m.getTime(),n-=1e3*(i=Math.floor(n/1e3/60/60/24))*60*60*24,n-=1e3*(r=Math.floor(n/1e3/60/60))*60*60,n-=1e3*(a=Math.floor(n/1e3/60))*60,0===i?0===r?c=a+" phút trước":(c=r+" giờ",e&&!0===e.detail&&a>2&&(c+=" "+a+" phút"),c+=" trước"):1===i&&(c=m.getHours()+":"+m.getMinutes()+" hôm qua")),""==c&&(c=(r=(m.getHours()<10?"0":"")+m.getHours())+":"+(a=(m.getMinutes()<10?"0":"")+m.getMinutes())+" "+(i=(m.getDate()<10?"0":"")+m.getDate())+"/"+((m.getMonth()<9?"0":"")+(m.getMonth()+1)),m.getFullYear()!=(new Date).getFullYear()&&l&&(c+="/"+m.getFullYear())),c},r=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=new RegExp(/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/g);t.indexOf("-")>-1&&(t=t.split("-")[0].trim());var i=null;if(o.test(t)){var r=t.split("/"),a=e?new Date(e):new Date,m=a.getFullYear(),s=a.getDate(),c=a.getMonth()+1;if(i=m-r[2],n)return i;(c<+r[1]||c==+r[1]&&s<+r[0])&&i--}else{var l=new RegExp(/^\d{4}$/g);if(l.test(t)){var d=e?new Date(e):new Date,h=d.getFullYear();i=h-parseInt(t)}}return i},a=function(t){for(var e=t.split(":"),n=0,o=1;e.length>0;)n+=o*parseFloat(e.pop()),o*=60;return n};function m(t){var e=Math.floor(t/60),n=Math.floor(t-60*e),o=n<10?"0"+n:n;return"".concat(e<10?"0"+e:e,":").concat(o)}function s(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Date(1e3*parseInt(t)),o=n.getDate(),i=n.getMonth()+1,r=n.getFullYear(),a=e?n.getHours()<12?"AM":"PM":"",m=n.getMinutes(),s=n.getHours();return e&&(s=n.getHours()<12?n.getHours():n.getHours()-12),s=(s<10?"0":"")+s,m=(m<10?"0":"")+m,"".concat(o,"/").concat(i,"/").concat(r," ").concat(s,":").concat(m," ").concat(a)}},268:function(t,e,n){var o,i,r;i=[t,e],void 0===(r="function"==typeof(o=function(t,e){"use strict";var n,o,i="function"==typeof Map?new Map:(n=[],o=[],{has:function(t){return n.indexOf(t)>-1},get:function(t){return o[n.indexOf(t)]},set:function(t,e){-1===n.indexOf(t)&&(n.push(t),o.push(e))},delete:function(t){var e=n.indexOf(t);e>-1&&(n.splice(e,1),o.splice(e,1))}}),r=function(t){return new Event(t,{bubbles:!0})};try{new Event("test")}catch(t){r=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!1),e}}function a(t){if(t&&t.nodeName&&"TEXTAREA"===t.nodeName&&!i.has(t)){var e,n=null,o=null,a=null,m=function(){t.clientWidth!==o&&d()},s=function(e){window.removeEventListener("resize",m,!1),t.removeEventListener("input",d,!1),t.removeEventListener("keyup",d,!1),t.removeEventListener("autosize:destroy",s,!1),t.removeEventListener("autosize:update",d,!1),Object.keys(e).forEach((function(n){t.style[n]=e[n]})),i.delete(t)}.bind(t,{height:t.style.height,resize:t.style.resize,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener("autosize:destroy",s,!1),"onpropertychange"in t&&"oninput"in t&&t.addEventListener("keyup",d,!1),window.addEventListener("resize",m,!1),t.addEventListener("input",d,!1),t.addEventListener("autosize:update",d,!1),t.style.overflowX="hidden",t.style.wordWrap="break-word",i.set(t,{destroy:s,update:d}),"vertical"===(e=window.getComputedStyle(t,null)).resize?t.style.resize="none":"both"===e.resize&&(t.style.resize="horizontal"),n="content-box"===e.boxSizing?-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)):parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),isNaN(n)&&(n=0),d()}function c(e){var n=t.style.width;t.style.width="0px",t.offsetWidth,t.style.width=n,t.style.overflowY=e}function l(){if(0!==t.scrollHeight){var e=function(t){for(var e=[];t&&t.parentNode&&t.parentNode instanceof Element;)t.parentNode.scrollTop&&e.push({node:t.parentNode,scrollTop:t.parentNode.scrollTop}),t=t.parentNode;return e}(t),i=document.documentElement&&document.documentElement.scrollTop;t.style.height="",t.style.height=t.scrollHeight+n+"px",o=t.clientWidth,e.forEach((function(t){t.node.scrollTop=t.scrollTop})),i&&(document.documentElement.scrollTop=i)}}function d(){l();var e=Math.round(parseFloat(t.style.height)),n=window.getComputedStyle(t,null),o="content-box"===n.boxSizing?Math.round(parseFloat(n.height)):t.offsetHeight;if(o<e?"hidden"===n.overflowY&&(c("scroll"),l(),o="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight):"hidden"!==n.overflowY&&(c("hidden"),l(),o="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight),a!==o){a=o;var i=r("autosize:resized");try{t.dispatchEvent(i)}catch(t){}}}}function m(t){var e=i.get(t);e&&e.destroy()}function s(t){var e=i.get(t);e&&e.update()}var c=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((c=function(t){return t}).destroy=function(t){return t},c.update=function(t){return t}):((c=function(t,e){return t&&Array.prototype.forEach.call(t.length?t:[t],(function(t){return a(t)})),t}).destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],m),t},c.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],s),t}),e.default=c,t.exports=e.default})?o.apply(e,i):o)||(t.exports=r)},269:function(t,e,n){var o=n(45),i=n(270);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var r={insert:"head",singleton:!1};o(i,r);t.exports=i.locals||{}},270:function(t,e,n){(e=n(46)(!1)).push([t.i,'.clearfix:after{visibility:hidden;display:block;font-size:0;content:" ";clear:both;height:0}* html .clearfix{height:1%}.clearfix{display:block}.comment-widget{font-family:Arial, Helvetica, sans-serif;float:left;width:100%;margin:15px 0 0}.comment-widget .comment-form .comment-editor::before,.comment-widget .avatar{width:30px;height:30px;border-radius:50%;background:#eee url("https://static-znews.zadn.vn/images/avatar_silkhouse.gif") no-repeat 50% 50%;background-size:cover;border:0;display:inline-block;margin-right:10px}.comment-widget .avatar{text-align:center;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;align-items:center;font-weight:bold;background-image:none;color:#000;text-transform:uppercase}.comment-widget .comment-form{width:100%;position:relative;float:left;padding-left:40px}.comment-widget .comment-form .comment-author{margin-bottom:8px;font-size:14px;line-height:20px;width:100%;color:#f9f9f9;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;margin-left:-40px}.comment-widget .comment-form .comment-author+.comment-editor::before{display:none}.comment-widget .comment-form .comment-author .noavatar{text-align:center;background:none;width:auto;top:0px}.comment-widget .comment-form .comment-author .noavatar:before{content:"";font-family:\'themify\';speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;position:relative;top:1px;color:#007caa}.comment-widget .comment-form .comment-author strong{display:inline-block;margin-right:5px;font-weight:bold;color:#000;margin-right:15px}.comment-widget .comment-form .comment-author a{display:inline-block;font-weight:normal;font-style:italic;font-size:11px;color:#aaaaaa;position:relative;top:1px}.comment-widget .comment-form .comment-author:hover{color:#ccc}.comment-widget .comment-form .comment-author:hover a{color:#aaa}.comment-widget .comment-form .button{padding:10px 20px;margin:0 5px 0 0;cursor:pointer;display:block;float:left;background:#f1f1f1;border-radius:3px;font-size:14px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.comment-widget .comment-form .button:hover{color:#FFF}.comment-widget .comment-form .button.btnSubmit{color:#FFF;border-radius:2px;background-color:#4d68a4;padding-left:30px;padding-right:30px;-webkit-transition:opacity .25s;-moz-transition:opacity .25s;transition:opacity .25s}.comment-widget .comment-form .button.btnCloseExpand{background-color:#dddddd;margin-right:0;color:#888}.comment-widget .comment-form .button.btnCloseExpand:hover{background-color:#888;color:#333}.comment-widget .comment-form .button.btnClose{color:#888}.comment-widget .comment-form .button.btnClose:hover{background:#eee;color:#333}.comment-widget .comment-form .note{float:right;font-size:11px;color:#aaa}.comment-widget .comment-form .note span{display:none;margin-left:15px;text-align:right;line-height:1.4}.comment-widget .comment-form .note span.show{display:inline-block}.comment-widget .comment-form .note span.passed:before{content:"";font-family:\'themify\';speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;position:relative;top:1px;margin-right:3px}.comment-widget .comment-form .comment{border:0;padding-top:0}.comment-widget .comment-form .comment .comment-actions{display:none}.comment-widget .comment-form.preview{background:#FFFFEC;padding-left:0}.comment-widget .comment-form.preview .comment-author{display:none}.comment-widget .comment-form.preview .comment-meta .avatar{top:4px}.comment-widget .comment-form.preview .note{float:left;color:#797B3C;font-style:italic;margin:-5px 0 5px 0}.comment-widget .comment-form.bottom{border-bottom:0;border-top:3px solid #FFF}.comment-widget .comment-form.bottom .comment-author{margin-top:0px}.comment-widget .comment-editor{position:relative;margin-bottom:7px;float:left;width:100%}.comment-widget .comment-editor::before{content:\'\';position:absolute;top:0;left:-40px}.comment-widget .comment-editor .comment-input{font-family:sans-serif;font-size:14px;color:#333;line-height:22px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;width:100%;height:55px;min-height:55px;padding:10px 15px;margin:0 0;outline:none;border:1px solid #999999;background-color:#FFF;overflow:hidden;resize:none !important;-webkit-transition:height .3s;-moz-transition:height .3s;transition:height .3s}.comment-widget .comment-editor .comment-input a{color:#333}.comment-widget .comment-editor .comment-input.focus,.comment-widget .comment-editor .comment-input:focus{border:1px solid #51cbee}.comment-widget .comment-editor .editor-tool{display:none;position:absolute;top:1px;right:2px;width:40px;font-size:16px;line-height:40px;text-align:center}.comment-widget .comment-editor .editor-tool a{display:block;width:40px;height:40px;color:#ccc;cursor:pointer}.comment-widget .comment-editor .editor-tool a:hover,.comment-widget .comment-editor .editor-tool a.clicked{color:#3E5C99}.comment-widget .comment-editor .editor-tool .emoticon-list{position:absolute;top:-1px;overflow:hidden;width:122px;left:43px;background:#FFF;z-index:999999;-webkit-box-shadow:1px 1px 2px -1px rgba(0,0,0,0.1);box-shadow:1px 1px 2px -1px rgba(0,0,0,0.1);border:1px solid #ddd}.comment-widget .comment-editor .editor-tool .emoticon-list li{width:40px;height:40px;display:inline-block;text-align:center;line-height:38px;border-right:1px solid #f7f7f7;border-bottom:1px solid #f7f7f7;cursor:pointer;float:left}.comment-widget .comment-editor .editor-tool .emoticon-list li .emojione{margin:0 0}.comment-widget .comment-editor .editor-tool .emoticon-list li:hover{background:#f7f7f7}.comment-widget .comment-editor .editor-tool .emoticon-list li:not(.common){display:none}.comment-widget .comment-editor .editor-tool .emoticon-list li.expand{display:inline-block}.comment-widget .comment-editor .editor-tool .emoticon-list.expanded{bottom:auto}.comment-widget .comment-editor .editor-tool .emoticon-list.expanded li{display:inline-block}.comment-widget .empty{float:left;width:100%;padding:20px 10px;font-family:sans-serif;font-size:12px;color:#888;text-align:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.comment-widget .empty a{color:#888}.comment-widget .empty span{display:inline-block;font-size:1.4em;margin-bottom:5px}.comment-widget .comment-preview{width:100%;padding:15px;background:#f1f1f1;float:left;margin-bottom:10px;display:none}.comment-widget .comment-list{float:left;width:100%;padding:10px 0}.comment-widget .comment-list .list-header{position:relative;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;justify-content:space-between;padding-bottom:0;margin-bottom:15px}.comment-widget .comment-list .list-header .list-title{font-size:14px;text-transform:uppercase;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.comment-widget .comment-list .list-header .list-sort-box{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;align-items:center}.comment-widget .comment-list .list-header .list-sort-box .list-sort-label{font-size:14px;margin-right:10px}.comment-widget .comment-list .list-header .sort-seleted{position:relative;color:#777777;padding:8px 0;cursor:pointer;display:block;padding-left:15px;padding-right:20px;font-size:12px}.comment-widget .comment-list .list-header .sort-seleted::after{content:"";font-family:\'themify\';speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;position:relative;top:1px;display:block;position:absolute;top:8px;right:0}.comment-widget .comment-list .list-header .sort-seleted .list-sorting{position:absolute;top:100%;right:0;width:120px;display:none;z-index:1;background-color:#fff;border:1px solid #dddddd}.comment-widget .comment-list .list-header .sort-seleted .list-sorting li{width:100%;padding:10px 10px 10px 15px;font-weight:bold;background-color:transparent}.comment-widget .comment-list .list-header .sort-seleted .list-sorting li:hover{color:#fff;background-color:#007caa}.comment-widget .comment-list .list-header .sort-seleted:hover .list-sorting{display:block}.comment-widget .comment-list .comments{float:left;width:100%;margin:0;-webkit-animation:fadeInImages 0.5s;-moz-animation:fadeInImages 0.5s;animation:fadeInImages 0.5s;margin-top:10px}.comment-widget .comment-list .comments:not(.replies){border-top:1px solid #ddd;padding-top:10px;margin-top:30px}.comment-widget .comment-list>.comments>li:nth-child(n+4){display:none}.comment-widget .comment-list>.comments>li:last-child{border:0;padding-bottom:0px}.comment-widget .comment-list>.comments.expanded>li{display:block}.comment-widget .comment-list .replies{padding:0}.comment-widget .comment-list .replies .comment{border-bottom:1px solid #f1f1f1;padding-left:35px}.comment-widget .comment-list .replies .comment:last-child{border:0;padding-bottom:0px}.comment-widget .comment-list .replies .comment .comment-actions .btnShare{display:none}.comment-widget .comment-list .replies .comment .avatar{width:25px;height:25px}.comment-widget .comment-list .replies .comment .comment-form.reply-form{margin-left:-40px;width:-moz-calc(100% + 40px);width:calc(100% + 40px)}.comment-widget .comment-list .replies .loader{text-align:left}.comment-widget .comment-list .replies:not(.expanded) .comment{border:0}.comment-widget .comment-list>.btnMore{width:100%;padding:12px 0;text-shadow:1px 1px 0px #FFF;text-align:center;margin-top:20px;background:#f6f7f8}.comment-widget .comment-list>.loader{display:none}.comment-widget .comment-list.init .comments{display:none}.comment-widget .comment-list.init .list-header .list-title span,.comment-widget .comment-list.init .list-header .list-sort-box{display:none}.comment-widget .comment-list.order-time .comment .comment-meta .time{visibility:visible !important}.comment-widget .comment-list.loading>.loader{display:block}.comment-widget .comment-list.loading>.btnMore{display:none}.comment-widget .comment-list+.comment-form{margin-top:20px}.comment-widget .comment-list[paged]>.comments .comment{display:block !important}.comment-widget .comment{float:left;width:100%;padding:18px 0 18px;padding-left:40px;position:relative;border-bottom:1px solid #eee}.comment-widget .comment .avatar{position:absolute;top:21px;left:0}.comment-widget .comment .comment-form{border:0;padding:17px 0 0 40px;background:none}.comment-widget .comment .comment-form .comment-editor{margin-bottom:7px}.comment-widget .comment .comment-form .comment-author{margin-top:0}.comment-widget .comment .comment-form.reply-form{padding-left:0}.comment-widget .comment .comment-form.reply-form .comment-author{display:none}.comment-widget .comment .comment-form.preview{margin-top:10px;padding-top:8px;padding-left:40px;padding-bottom:0px;background:#FFF}.comment-widget .comment .comment-form.preview .comment{padding-bottom:5px}.comment-widget .comment.noavatar>.comment-meta{margin-bottom:2px}.comment-widget .comment.noavatar>.comment-meta .author,.comment-widget .comment.noavatar>.comment-meta .time{display:inline-block;line-height:20px;margin-right:10px}.comment-widget .comment.noavatar>.comment-meta .time{visibility:hidden}.comment-widget .comment.preview .comment-actions{display:none}.comment-widget .comment:hover>.comment-actions a.btnShare{display:inline-block}.comment-widget .comment:hover>.comment-actions .btnLike+.separator{display:inline-block}.comment-widget .comment:hover .comment-meta .time{visibility:visible}.comment-widget .comment>.note{float:left;padding:3px 5px;background:#FDFFC3;font-style:italic;margin-top:5px}.comment-widget .comment .comment-meta{font-family:Arial, Helvetica, sans-serif;font-size:14px;color:#141823;line-height:20px;width:100%;float:left;margin-bottom:5px}.comment-widget .comment .comment-meta a{color:#141823}.comment-widget .comment .comment-meta .author{color:#000;font-weight:bold;font-size:14px;line-height:19px;display:inline-block;margin-bottom:0;margin-top:2px}.comment-widget .comment .comment-meta .author .author-name{margin-right:10px}.comment-widget .comment .comment-meta .author .time{color:#666;font-size:11px;display:inline-block;font-weight:normal;line-height:normal}.comment-widget .comment .comment-meta .btnShow{color:#666;font-size:11px;padding-left:10px;cursor:pointer;position:relative;top:-1px;border:1px solid #ccc;padding:0 2px;margin-left:5px;border-radius:3px;display:inline-block;line-height:10px}.comment-widget .comment .comment-meta .btnShow:hover{border-color:#296184;color:#296184}.comment-widget .comment .comment-meta .emojione{width:15px;height:15px;margin:0 3px}.comment-widget .comment .comment-meta .break{display:block;margin:5px 0}.comment-widget .comment .comment-meta .comment-content{width:100%;font-size:14px;line-height:1.43;margin-top:5px}.comment-widget .comment .comment-actions{float:left;width:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;-moz-box-pack:start;justify-content:flex-start;margin-top:2px;font-size:12px;font-weight:normal;line-height:1.67;position:relative}.comment-widget .comment .comment-actions a{color:#627aad;display:inline-block}.comment-widget .comment .comment-actions a.btnLike::before,.comment-widget .comment .comment-actions a.btnDislike::before{content:"\\e96a";font-family:\'znews-icon\';font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;position:relative;top:1px;margin-right:3px;display:inline-block;width:12px;height:13px;background-size:contain}.comment-widget .comment .comment-actions a.btnDislike::before{-webkit-transform:scaleY(-1);-moz-transform:scaleY(-1);transform:scaleY(-1);top:3px}.comment-widget .comment .comment-actions a.btnShare{display:none}.comment-widget .comment .comment-actions a.btnShare span{margin-left:5px;margin-right:5px;color:#ccc}.comment-widget .comment .comment-actions a.btnShare:after{content:"";font-family:\'themify\';speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;position:relative;top:1px;top:0px;background:#3b5998;color:#fff;font-size:8px;padding:2px 0px 0px 2px;margin-right:3px;border-radius:2px}.comment-widget .comment .comment-actions a.btnShare:hover span{display:inline}.comment-widget .comment .comment-actions a:hover{text-decoration:underline}.comment-widget .comment .comment-actions a:hover.btnShare:before{background:#3b5998 !important;color:#FFF !important}.comment-widget .comment .comment-actions a.clicked.btnLike::before,.comment-widget .comment .comment-actions a.clicked.btnDislike::before{color:#3b5998;font-weight:bold}.comment-widget .comment .comment-actions .time{color:#888;position:absolute;right:0}.comment-widget .comment .comment-actions>span.separator{display:inline-block;padding:0 10px;font-size:10px;color:#999}.comment-widget .comment .comment-actions>span.separator:nth-last-of-type{display:none}.comment-widget .comment .comment-actions.answered .btnLike:not(.clicked),.comment-widget .comment .comment-actions.answered .btnDislike:not(.clicked){color:#888}.comment-widget .comment .comment-actions.answered .btnLike:not(.clicked):before,.comment-widget .comment .comment-actions.answered .btnDislike:not(.clicked):before{-webkit-filter:grayscale(90%);filter:grayscale(90%);opacity:0.7}.comment-widget .btnMore{cursor:pointer;font-size:12px;font-weight:bold;color:#3b5998;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;float:left;display:block;width:100%}.comment-widget .btnMore a{color:#3b5998}.comment-widget .btnMore:hover{text-decoration:underline}.comment-widget.live{background-color:#f7f7f7;border-bottom:5px solid #eeeeee}.comment-widget.live .comment-form{padding:12px 15px 12px 55px;border:0;background-color:#eeeeee;position:relative}.comment-widget.live .comment-form .comment-author{margin:0}.comment-widget.live .comment-form .comment-author strong,.comment-widget.live .comment-form .comment-author a{display:none}.comment-widget.live .comment-form .avatar,.comment-widget.live .comment-form .avatar-temp{width:30px;height:30px;border-radius:2px;position:absolute;top:12px;left:15px}.comment-widget.live .comment-form.collapsed .comment-editor{margin-bottom:0}.comment-widget.live .comment-form.collapsed .comment-editor .editor-tool{display:none}.comment-widget.live .comment-form.collapsed .comment-editor .comment-input{height:32px !important;min-height:32px;padding:4px 10px;border-color:transparent;border-radius:4px}.comment-widget.live .comment-form.collapsed .btnCloseExpand,.comment-widget.live .comment-form.collapsed .btnSubmit{display:none}.comment-widget.live.simple .comment-form{border:0}.comment-widget.live.simple .comment-form .note{display:none}.comment-widget.live.simple .comment-editor .editor-tool{display:none}.comment-widget.live.simple .comment{border:0;padding-top:12px;padding-bottom:12px}.comment-widget.live.simple .comment:first-child{padding-top:0}.comment-widget.live.simple .comment:first-child .comment-meta .avatar{top:2px}.comment-widget.live.simple .comment .comment-meta{background-color:#eeeeee;border-radius:4px;padding:8px 12px}.comment-widget.live.simple .comment .comment-meta .avatar{top:13px}.comment-widget.live.simple .comment .comment-actions{display:block !important}.comment-widget.live.simple .comment .comment-actions .btnReply,.comment-widget.live.simple .comment .comment-actions .btnReply+.separator{display:none}.comment-widget.live.simple .comment-list{padding-top:0px}.comment-widget.live.simple .comment-list .btnMore{display:none}.comment-widget.live.simple .list-header{padding:7px 15px;float:left;width:100%;border-bottom:none}.comment-widget.live.simple .list-header .loader-inner{padding:0;text-align:left}.comment-widget.live.simple .list-header .loader-inner div{background-color:#d8d8d8;-webkit-animation-duration:.7s;-moz-animation-duration:.7s;animation-duration:.7s}.comment-widget.live.simple .list-header .list-sorting{display:none}.comment-widget.live .comment-list{padding-top:0px}.comment-widget.live .comment-list .comments{border-top:0}.comment-widget.live .mCSB_container{padding-top:5px;padding-bottom:50px}.emojione{background-size:cover;display:inline-block;width:20px;height:20px;overflow:hidden;text-indent:-999px;background-repeat:no-repeat;vertical-align:middle}#page-video #video-comments .comment-widget .comment-form.bottom{border-top:0}#page-video #video-comments .comment-widget .comment-form.preview{background:none;padding-left:0}#page-video #video-comments .comment-widget .comment-form.preview .note{color:#aaa;padding-left:40px}#page-video #video-comments .comment-widget .comment-form .comment-input{border-color:#4a5b72;background-color:transparent;color:#aaa}#page-video #video-comments .comment-widget .comment-form .comment-input::-webkit-input-placeholder{color:inherit}#page-video #video-comments .comment-widget .comment-form .comment-input::-moz-placeholder{color:inherit}#page-video #video-comments .comment-widget .comment-form .comment-input:-ms-input-placeholder{color:inherit}#page-video #video-comments .comment-widget .comment-form .comment-input::-ms-input-placeholder{color:inherit}#page-video #video-comments .comment-widget .comment-form .comment-input::placeholder{color:inherit}#page-video #video-comments .comment-widget .comment-form .btnSubmit{background-color:#4a5b72}#page-video #video-comments .comment-widget .empty{display:none}#page-video #video-comments .comments:not(.replies){border-top-color:#293340}#page-video #video-comments .comment-author .username{color:#d7d7d7}#page-video #video-comments .comment .comment-content{font-size:14px;font-weight:normal;line-height:1.4;color:#d7d7d7}#page-video #video-comments .comment .comment-meta .author-name{color:#d7d7d7}#page-video #video-comments .comment .comment-meta .time{color:#aaaaaa}#page-video #video-comments .comment-list .list-header,#page-video #video-comments .comment-list .comment{border-bottom-color:#293340}#page-video #video-comments .comment-list .list-header .list-sort-box .sort-seleted{border-color:#4a5b72}#page-video #video-comments .comment-list .list-header .list-sort-box .list-sorting{background-color:#27303e}#page-video #video-comments .comment-list .list-header .list-sort-box .list-sorting li{color:#fff}#page-video #video-comments .comment-list .list-header .list-sort-box span{color:#d7d7d7}#page-video #video-comments .comment-list .comment-actions a{color:#35abff}#page-video #video-comments .comment-list .comment-actions a.clicked{color:#35abff}#page-video #video-comments .comment-list .comment-actions a.clicked::before{color:inherit}#page-video #video-comments .comment-list .btnMore{background-color:transparent;color:#35abff;text-shadow:none}\n',""]),t.exports=e},327:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return lt}));var o=n(19),i=n.n(o),r=n(24),a=n.n(r),m=n(3),s=n.n(m),c=n(11),l=n.n(c),d=n(1),h=n.n(d),p=n(8),u=n.n(p),g=n(6),f=n.n(g),b=n(2),v=n.n(b),x=n(17),w=n(22),y=n.n(w),k=n(18),E=n(15),C=n.n(E),$=n(7),D=n(9),L=n(16);function F(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=v()(t);if(e){var i=v()(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return f()(this,n)}}var R=function(t){u()(o,t);var e,n=F(o);function o(t,e){var i;return s()(this,o),(i=n.call(this)).module=t.module,i.app=i.module.app,i.isLive=i.module.options.isLive,i.commentItem=t,i.comment=e,i.handleReply=i.handleReply.bind(l()(i)),i.handleLike=i.handleLike.bind(l()(i)),i.handleDislike=i.handleDislike.bind(l()(i)),i.render(),i.bindEvents(),i.data={commentid:i.comment.id,like:1,appversion:i.app.ZAPPID,platform:i.app.DEVICE.type},i}return h()(o,[{key:"name",get:function(){return"CommentAction"}}]),h()(o,[{key:"render",value:function(){var t=this.comment,e=t.likecount,n=void 0===e?"":e,o=t.dislikecount,i=void 0===o?"":o,r=t.id;return this.$el=this.Dom.createEl("p",{className:"comment-actions",innerHTML:"<a parent-id=".concat(r," class='btnReply'>Trả lời</a>\n                        <span class=\"separator\">&bull;</span>\n                        <a class='btnLike'><strong>").concat(n,"</strong></a>\n                        <span class=\"separator\">&bull;</span>\n                        <a class='btnDislike'><strong>").concat(i,"</strong></a>")}),this.$replyEl=this.$el.find(".btnReply"),this.$likeEl=this.$el.find(".btnLike"),this.$dislikeEl=this.$el.find(".btnDislike"),this.$el}},{key:"bindEvents",value:function(){this.$replyEl.on("click",this.handleReply),this.$likeEl.on("click",this.handleLike),this.$dislikeEl.on("click",this.handleDislike)}},{key:"handleReply",value:function(t){if(t&&t.preventDefault(),this.formReply)this.Dom.toggleClass(this.formReply.$el,"hide");else{this.formReply=new rt(this.module,this.comment);var e=this.commentItem.$el.find(".comment-meta");Object(D.g)(e,this.formReply.$el)}this.formReply.focus()}},{key:"handleLike",value:function(t){t.preventDefault(),this.Dom.hasClass(this.$likeEl,"clicked")||this.Dom.hasClass(this.$el,"answered")||(this.$likeEl.find("strong").textContent=this.comment.likecount+1,this.Dom.addClass(this.$likeEl,"clicked"),this.Dom.addClass(this.$el,"answered"),this.postLike(!0))}},{key:"handleDislike",value:function(t){t.preventDefault(),this.Dom.hasClass(this.$likeEl,"clicked")||this.Dom.hasClass(this.$el,"answered")||(this.$dislikeEl.find("strong").textContent=this.comment.dislikecount+1,this.Dom.addClass(this.$dislikeEl,"clicked"),this.Dom.addClass(this.$el,"answered"),this.isLive||this.handleReply(),this.postLike(!1))}},{key:"postLike",value:(e=a()(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.data.like=e?1:-1,t.next=3,Object($.F)(L.g.COMMENT_LIKE_POST,{},this.data);case 3:(n=t.sent)&&n.err;case 5:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"destroy",value:function(){this.$replyEl.remove(),this.$likeEl.remove(),this.$dislikeEl.remove(),this.$el.remove()}}]),o}(k.a),O=n(30),M=n(0),T=M.Y+"/images/icons/emojione/",z={"x-D xD X-D XD :cuoi: :cười:":{icon:"".concat(T,"1f606.png"),shortname:"xD",description:"Cười tít mắt",common:!0,regex:new RegExp(/(x-D|xD)/gi)},":D :d :-D :-d =D :-)) :haha:":{icon:"".concat(T,"1f604.png"),shortname:":-D",description:"Ha ha ha",common:!0,regex:new RegExp(/\B(:D|:d|:-D|:-d|=D|:-\)\))/gi)},":'( :'-( T.T :khóc: :khoc:":{icon:"".concat(T,"1f622.png"),shortname:":'(",description:"Khóc",common:!0,regex:new RegExp(/\B(:'\(|:'-\(|T\.T)/gi)},":) :-) :-] :] =) :=) =] :> ^_^ ^^ :vui: :cuoi: :cười:":{icon:"".concat(T,"1f642.png"),shortname:":-)",description:"Vui",common:!0,regex:new RegExp(/\B(:\)|:-\)|:-\]|:\]|=\)|:=\)|=\]|:>|\^_\^|\^\^)/gi)},">:[ :-( :( :-c :c :-< :< :-[ :[ :buồn: :buon:":{icon:"".concat(T,"1f61f.png"),shortname:":(",description:"Buồn",common:!0,regex:new RegExp(/\B(>:\[|:-\(|:\(|:-c|:c|:-<|:<|:-\[)/gi)},">.< :-/ :-. :/ :\\ =/ =\\ :bực: :buc:":{icon:"".concat(T,"1f620.png"),shortname:":-/",description:"Bực",common:!0,regex:new RegExp(/\B(>\.<|:-\/|:-\.|:\/|:\\|=\/|=\\\\)/gi)},":-|| :@ :giận: :gian:":{icon:"".concat(T,"1f621.png"),shortname:":@",description:"Giận",common:!0,regex:new RegExp(/\B(:-\|\||:@)/gi)},">:O :-O :O :-o :o :0 :-0 8-O 8-0 O_O o-o O_o o_O o_o O-O :ngạc nhiên: :ngac nhien:":{icon:"".concat(T,"1f62e.png"),shortname:":-O",description:"Ngạc nhiên",common:!0,regex:new RegExp(/\B(>:O|:-O|:O|>:0|:-0|:0|8-O|8-0|O_O|0_0|O-O)/gi)},";-) ;) :nháy mắt: :nhay mat:":{icon:"".concat(T,"1f609.png"),shortname:";-)",aliases:";-) ;)",description:"Nháy mắt",common:!0,regex:new RegExp(/\B(;-\)|;\))/gi)},"<3 :yêu:":{icon:"".concat(T,"1f60d.png"),shortname:"<3",description:"Yêu quá",common:!0,regex:new RegExp(/\B(<3|:yêu:|:yeu:)/gi)},":om:":{icon:"".concat(T,"1f917.png"),shortname:":ôm:",description:"Ôm",common:!0,regex:new RegExp(/\B(:ôm:|:om:)/gi)},":| :-| :/ :\\ =/ =\\ :không :khong":{icon:"".concat(T,"1f611.png"),shortname:":-|",description:"Không biết nói gì",common:!1,regex:new RegExp(/\B(:\||:-\||:\/|:\\\\|=\/|=\\\\)/gi)},":-X :X :-x :x :-# :# :‑& :& :không :khong":{icon:"".concat(T,"1f910.png"),shortname:":-X",description:"Không nói được",common:!0,regex:new RegExp(/\B(:-X|:X|:-#|:#|:-&|:&)/gi)},":L :chán: :chan:":{icon:"".concat(T,"1f612.png"),shortname:":L",description:"Chán",common:!0,regex:new RegExp(/\B(:L)/gi)},":nghĩ :nghi":{icon:"".concat(T,"/1f914.png"),shortname:":nghĩ:",description:"Nghĩ",common:!0,regex:new RegExp(/\B(:nghĩ:|:nghi:)/gi)},"8-D 8D 8-) 8) :cool: :cuoi:":{icon:"".concat(T,"1f60e.png"),shortname:"8-D",description:'Cười "cool"',regex:new RegExp(/(8-D|8D|8-\)|8\))/gi)},":') :'D :'-) :cười chảy nước mắt: :cuoi:":{icon:"".concat(T,"1f602.png"),shortname:":')",description:"Cười",regex:new RegExp(/\B(:'\)|:'-\)|:'D)/gi)},":$ :đỏ mặt: :do mat: :blushing:":{icon:"".concat(T,"1f633.png"),shortname:":$",description:"Đỏ mặt",regex:new RegExp(/\B(:\$)/gi)},":* :-* :^* :hôn: :hon:":{icon:"".concat(T,"1f618.png"),shortname:":^*",description:"Hôn",regex:new RegExp(/\B(:\*|:-\*|:\^\*|:hôn:)/gi)},"B-) :đeo kính: :deo kinh:":{icon:"//static-znews.zadn.vn/images/icons/emojione/1f913.png",shortname:"B-)",description:"Đeo kính",regex:new RegExp(/(B-\))/gi)},"$_$ $.$ :tiền: :tien:":{icon:"".concat(T,"1f911.png"),shortname:"$_$",description:"Tiền",regex:new RegExp(/\B(\$_\$|\$\.\$)/gi)}};var S=[{backgroundColor:"#F5B8B8",color:"#000"},{backgroundColor:"#F4D5AF",color:"#000"},{backgroundColor:"#F4F6C1",color:"#000"},{backgroundColor:"#CDF7C5",color:"#000"},{backgroundColor:"#A6ECF2",color:"#000"},{backgroundColor:"#AAC6F3",color:"#000"},{backgroundColor:"#C5BCF5",color:"#000"},{backgroundColor:"#F8CEF8",color:"#000"},{backgroundColor:"#DDDDDD",color:"#000"}];function N(t){var e=t;return e=(e=function(t){if(t){var e=t;for(var n in z)if(z.hasOwnProperty(n)){var o=z[n];e=e.replace(o.regex,'<i class="emojione" style="background-image: url('+o.icon+');"></i>')}return e}}(e=e.trim())).replace(/\r?\n/g,'<span class="break"></span>')}function I(t){if(t){var e=t.replace(/\s+/g," ").trim().split(/\s/),n=e[0]&&e[0][0],o=e.length;return o>1&&(n=e[0][0]+e[o-1][0]),n}}function A(){var t=Math.floor(Math.random()*S.length);return S[t]}function B(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=v()(t);if(e){var i=v()(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return f()(this,n)}}var j=function(t){u()(n,t);var e=B(n);function n(t){var o;return s()(this,n),(o=e.call(this)).textContent=t,o.handleExpand=o.handleExpand.bind(l()(o)),o.render(),o}return h()(n,[{key:"name",get:function(){return"CommentContent"}},{key:"properties",get:function(){return{className:"comment-content"}}},{key:"content",get:function(){return N(this.textContent)}}],[{key:"tagName",get:function(){return"p"}}]),h()(n,[{key:"render",value:function(){this.$el=this.Dom.createEl("p",{className:"comment-content"});var t,e=Object(O.d)(this.textContent,50,90);return e.length>1?(t=e[0],t="".concat(t,"..."),this.$el.innerHTML=t,this.$expandEl=this.Dom.createEl("a",{className:"btnShow",title:"Xem toàn bộ bình luận",textContent:"+"}),this.$el.appendChild(this.$expandEl),this.bindEvents()):(t=this.textContent,this.$el.innerHTML=t),this.$el}},{key:"bindEvents",value:function(){this.$expandEl.on("click",this.handleExpand)}},{key:"handleExpand",value:function(t){t.preventDefault(),this.removeExpand(),this.$el.innerHTML=this.content}},{key:"removeExpand",value:function(){this.$expandEl.off("click",this.handleExpand),this.$expandEl.remove()}},{key:"destroy",value:function(){y()(v()(n.prototype),"destroy",this).call(this)}}]),n}(k.a),H=n(4);function P(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=v()(t);if(e){var i=v()(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return f()(this,n)}}var _=function(t){u()(n,t);var e=P(n);function n(t){var o;return s()(this,n),(o=e.call(this)).module=t,o.commentIds={},o.$el=o.Dom.createEl("ul",{className:"comments"}),o.render(),o}return h()(n,[{key:"name",get:function(){return"CommentList"}}]),h()(n,[{key:"addComments",value:function(t){var e=this;H.a.empty(t)||t.forEach((function(t){var n=new Z(e.module,t);e.append(n.$el),t.parentId&&n.$el.setAttribute("parent-id",t.parentId),e.commentIds[t.id]=n}))}},{key:"refreshComents",value:function(t){var e=this;H.a.empty(t)||t.forEach((function(t){var n=t.id;if(e.commentIds[n]){e.commentIds[n].updateTime(t.datetime)}else{var o=new Z(e.module,t);e.append(o.$el),e.commentIds[n]=o}}))}},{key:"render",value:function(){return this.$el}},{key:"empty",value:function(){for(;this.$el.firstChild;)this.$el.firstChild.remove()}}]),n}(k.a),U=n(12),W=n(102);function V(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function X(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?V(Object(n),!0).forEach((function(e){C()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function q(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=v()(t);if(e){var i=v()(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return f()(this,n)}}var Y={isLive:!1,isReply:!1,isPreview:!1},Z=function(t){u()(o,t);var e,n=q(o);function o(t,e,i){var r;return s()(this,o),(r=n.call(this)).module=t,r.options=Object(U.a)({},Y,i),r.comment=e,r.commentContent=new j(e.content),r.commentAction=new R(l()(r),e),r.handleLoadMore=r.handleLoadMore.bind(l()(r)),r.render(),r.bindEvents(),r}return h()(o,[{key:"name",get:function(){return"CommentItem"}},{key:"tagName",get:function(){return this.options.isPreview?"div":"li"}},{key:"properties",get:function(){return{className:"comment"}}}]),h()(o,[{key:"renderReply",value:function(){var t=this.comment,e=t.replies,n=t.id,o=t.replycount;e.forEach((function(t){return t.parentId=n})),this.commentReply=new _(this.module),this.commentReply.addComments(e),this.Dom.addClass(this.commentReply.$el,"replies"),this.$el.appendChild(this.commentReply.$el);var i=o-e.length;i>0&&(this.$btnMore=this.Dom.createElFromHTML('<li class="btnMore">Xem thêm '.concat(i," trả lời</li>")),this.commentReply.$el.appendChild(this.$btnMore))}},{key:"bindEvents",value:function(){this.$btnMore&&this.$btnMore.on("click",this.handleLoadMore)}},{key:"handleLoadMore",value:(e=a()(i.a.mark((function t(){var e,n,o,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=X(X({},this.module.options.query),{},{p:1,commentid:this.comment.id}),t.next=3,this.module.fetchData(e);case 3:0==(n=t.sent).err&&n.data&&(o=n.data.comments,r={},this.comment.replies.forEach((function(t){return r[t.id]=!0})),o=o.filter((function(t){return!r[t.id]})),this.commentReply.addComments(o)),this.Dom.removeFromDom(this.$btnMore);case 6:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"updateTime",value:function(t){var e=this.find(".time"),n=Object(W.b)(t+M.W,{friendly:!0});this.Dom.textContent(e,n)}},{key:"buildUiAvatar",value:function(t){this.Dom.removeFromDom(this.find(".avatar"));var e=this.Dom.createElFromHTML('<div class="avatar">'.concat(I(t),"</div>"));this.Dom.setStyles(e,A()),this.find(".comment-meta").prepend(e)}},{key:"render",value:function(){var t=this,e=this.comment,n=e.author,i=void 0===n?{}:n,r=e.datetime,a=e.replies,m=e.id;y()(v()(o.prototype),"render",this).call(this);var s=i.displayname,c=i.avatar;this.html("<div class='comment-meta'>\n                <img class='avatar' src='".concat(M.r,'\' alt="avatar" />\n                <p class=\'author\'>\n                    <span class="author-name">').concat(s,'</span>\n                    <span class="time">').concat(Object(W.b)(r+M.W,{friendly:!0}),"</span>\n                </p>\n            </div>")),c&&c.indexOf(M.r)<0?Object($.c)(c).then((function(e){e?t.find(".avatar").src=c:t.buildUiAvatar(s)})):this.buildUiAvatar(s);var l=this.find(".comment-meta");return l.append(this.commentContent.$el),l.append(this.commentAction.$el),H.a.empty(a)||this.renderReply(),this.$el.setAttribute("comment-id",m),this.$el}}]),o}(k.a),G=n(38);function K(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=v()(t);if(e){var i=v()(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return f()(this,n)}}var Q=function(t){u()(n,t);var e=K(n);function n(){var t,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,n),(t=e.call(this,o)).title="",t.content="",t}return h()(n,[{key:"name",get:function(){return"CommentAlertDialog"}},{key:"defaultOptions",get:function(){return{customClass:"centered",title:"Thông báo",icon:"ti-alert",htmlContent:"",btnCloseLabel:"Đóng",btnOkLabel:""}}}]),h()(n,[{key:"alertMinword",value:function(){this.setIcon("ti-alert"),this.setTitle("Bình luận quá ngắn"),this.setContent("<p>Bạn chưa nhập nội dung bình luận hoặc bình luận của bạn quá ngắn. Nội dung bình luận có nghĩa sẽ được đánh giá cao và ưu tiên hơn khi duyệt và hiển thị.</p>"),this.show()}},{key:"alertVietnamese",value:function(){this.setIcon("ti-alert"),this.setTitle("Viết bình luận bằng tiếng Việt có dấu"),this.setContent("<p>Bình luận chỉ được đăng nếu viết bằng tiếng Việt có dấu. Bạn có thể gõ bằng kiểu gõ Telex hoặc VNI trong trình soạn thảo mà không cần cài đặt phần mềm.</p>"),this.show()}},{key:"alertPostFail",value:function(){this.setIcon("ti-alert"),this.setTitle("Lỗi khi gửi bình luận"),this.setContent("<p>Có lỗi xảy ra khi gửi bình luận của bạn. Nguyên nhân có thể do mạng hoặc hệ thống. Vui lòng thử lại sau vài phút nữa. Ban biên tập xin lỗi về sự bất tiện này.</p>"),this.show()}},{key:"alertQuickTypeCmt",value:function(){this.setIcon("ti-alert"),this.setTitle("Bình luận quá nhanh"),this.setContent("<p>Bạn nhập bình luận quá nhanh, vui lòng đợi trong giây lát. Tất cả bình luận sẽ chỉ hiển thị sau 5 phút.</p>"),this.show()}},{key:"alertInprocess",value:function(){this.setIcon("ti-alert"),this.setTitle("Đang xử lý"),this.setContent("<p>Bình luận trước của bạn đang được xử lý. Vui lòng đợi trong giây lát...</p>"),this.show()}}]),n}(G.a),J=n(268),tt=n.n(J),et=n(14),nt=n(56);function ot(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=v()(t);if(e){var i=v()(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return f()(this,n)}}var it={isLive:!1,isReply:!1,minWords:5},rt=function(t){u()(r,t);var e,n,o=ot(r);function r(t,e){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s()(this,r),(n=o.call(this)).module=t,n.app=t.app,n.comment=e||null,n.options=Object(U.a)({},n.defaultOptions,i),n.options.hasBtnClose=n.isReply||n.options.isLive,n.wordCount=0,n.dialog=new Q,n.handleTextAreaChange=n.handleTextAreaChange.bind(l()(n)),n.handleTextAreaFocus=n.handleTextAreaFocus.bind(l()(n)),n.handleTextAreaBlur=n.handleTextAreaBlur.bind(l()(n)),n.handleSubmitForm=n.handleSubmitForm.bind(l()(n)),n.handleChangeUserName=n.handleChangeUserName.bind(l()(n)),n.handleChangeUserNameOk=n.handleChangeUserNameOk.bind(l()(n)),n.close=n.close.bind(l()(n)),n.destroy=n.destroy.bind(l()(n)),n.render(),n.bindEvents(),n.bindEventsUser(),n}return h()(r,[{key:"name",get:function(){return"CommentForm"}},{key:"properties",get:function(){return{className:this.options.className||"comment-form ".concat(this.isReply?"reply-form":""),"parent-id":this.commentId}}},{key:"defaultOptions",get:function(){return Object(U.a)({},it,{className:this.isReply?"comment-form reply-form":"comment-form",submitLabel:this.isReply?"Trả lời":"Gửi bình luận",hasBtnClose:this.isReply})}},{key:"isReply",get:function(){return this.commentId>0}},{key:"commentId",get:function(){if(this.comment){var t=this.comment,e=t.id,n=t.parentId;if(n)return n;if(e)return e}return null}},{key:"placeholder",get:function(){return this._placeholder||(this.options.isLive?this._placeholder="Tham gia bình luận trực tiếp...":this.isReply?this._placeholder="Bạn có đồng ý với ".concat(this.comment.author.displayname," ?"):this._placeholder="Bạn nghĩ gì về tin này?"),this._placeholder}}]),h()(r,[{key:"handleTextAreaChange",value:function(){var t=this.$textAreaEl.value;this.wordCount=Object(O.h)(t),this.$wordCountEl.textContent=this.wordCount+" chữ",this.wordCount>=5?this.Dom.addClass(this.$wordCountEl,"passed"):this.Dom.removeClass(this.$wordCountEl,"passed")}},{key:"handleTextAreaFocus",value:function(){this.Dom.addClass(this.$wordCountEl,"show"),this.options.isLive&&this.unCollapse()}},{key:"handleTextAreaBlur",value:function(){this.Dom.removeClass(this.$wordCountEl,"show")}},{key:"handleAuth",value:function(){var t=this;return this.dialogConnectZalo=new G.a(nt.b),this.dialogConnectZalo.show(),this.app.trigger(et.a.REQUIRE_LOGIN),new Promise((function(e){t.app.on(et.a.LOGGED_IN,(function(){e(!0),t.handleLoggedIn()})),t.app.on(et.a.LOGIN_FAIL,(function(){e(!1),t.handleLogInFail()}))}))}},{key:"handleLoggedIn",value:function(){this.dialogConnectZalo.close(),this.dialogConnectZalo.destroy(),delete this.dialogConnectZalo,this.$profileEl||(this.prepend(this.renderProfile()),this.bindEventsUser())}},{key:"handleLogInFail",value:function(){this.dialogConnectZalo.hideLoader(),this.dialogConnectZalo.on(G.a.EVENTS.OK,this.handleChangeUserName)}},{key:"collapse",value:function(){this.addClass("collapsed")}},{key:"unCollapse",value:function(){this.removeClass("collapsed")}},{key:"validForm",value:(n=a()(i.a.mark((function t(e){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.app.isLogged){t.next=6;break}return t.next=3,this.handleAuth(e);case 3:if(t.sent){t.next=6;break}return t.abrupt("return",!1);case 6:if(e){t.next=9;break}return this.$textAreaEl.focus(),t.abrupt("return",!1);case 9:if(!this.Dom.hasClass(this.$btnSubmitEl,"delayed")){t.next=12;break}return this.dialog.alertQuickTypeCmt(),t.abrupt("return",!1);case 12:if(!(this.wordCount<this.options.minWords)){t.next=15;break}return this.dialog.alertMinword(),t.abrupt("return",!1);case 15:if(""==(n=e).trim()||null!=n.match(/á|à|ả|ã|ạ|â|ấ|ầ|ậ|ẩ|ẫ|ă|ắ|ằ|ặ|ẳ|é|è|ẻ|ẹ|ê|ế|ề|ệ|ể|ẽ|đ|ụ|ủ|ù|ú|ũ|ư|ứ|ừ|ử|ự|ữ|ó|ò|ỏ|õ|ọ|ô|ố|ồ|ộ|ổ|ơ|ớ|ờ|ợ|ở|ỡ|ỉ|ì|í|ị|ĩ|ý|ỵ|ỳ|ỹ/i)){t.next=18;break}return this.dialog.alertVietnamese(),t.abrupt("return",!1);case 18:if(!this.Dom.hasClass(this.$btnSubmitEl,"processing")){t.next=21;break}return this.dialog.alertInprocess(),t.abrupt("return",!1);case 21:return t.abrupt("return",!0);case 22:case"end":return t.stop()}var n}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"postData",value:function(t){this.Dom.addClass(this.$btnSubmitEl,"processing");var e=this.app,n=e.profile,o=e.DEVICE,i=e.ZAPPID,r={comment:t,avatar:n.avatar,displayname:n.name,userid:n.userId,email:n.email},a={articleid:this.module.articleId,appversion:i,platform:o.type,commentid:this.commentId};return Object($.F)(L.g.COMMNET_POST,a,r)}},{key:"handleSubmitForm",value:(e=a()(i.a.mark((function t(e){var n,o,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),n=this.$textAreaEl.value.trim(),t.next=4,this.validForm(n);case 4:if(t.sent){t.next=7;break}return t.abrupt("return",!1);case 7:return t.next=9,this.postData(n);case 9:if(o=t.sent,this.Dom.removeClass(this.$btnSubmitEl,"processing"),o&&!(o.err<0)){t.next=14;break}return this.dialog.alertPostFail(),t.abrupt("return");case 14:r=o.data,this.afterSubmitForm(r);case 16:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"afterSubmitForm",value:function(t){var e=this,n=new Z(this.module,t,{isPreview:!0});if(this.options.isLive){this.Dom.addClass(this.$btnSubmitEl,"delayed"),setTimeout((function(){e.Dom.removeClass(e.$btnSubmitEl,"delayed")}),3e4);var o=this.module.commentList.$el;this.Dom.hasClass(o,"hide")&&this.Dom.removeClass(o,"hide"),o.prepend(n.$el),this.close(),this.module.$loaderLive&&this.Dom.hasClass(this.module.$loaderLive,"hide")&&this.Dom.removeClass(this.module.$loaderLive,"hide")}else this.Dom.removeFromDom(this.$wrapperEl),this.Dom.removeFromDom(this.$btnSubmitEl),this.Dom.removeFromDom(this.$btnCloseEl),this.$el.append(n.$el),this.addClass("preview"),this.append('<p class="note">Bình luận đang chờ duyệt. Ban biên tập giữ quyền biên tập nội dung bình luận trước khi đăng.</p>');this.Dom.removeFromDom(this.module.$empty)}},{key:"handleChangeUserNameOk",value:function(){var t=this.dialogChangeUserInfo.$el,e=t.find(".inputName"),n=t.find(".inputEmail"),o=e.value.trim(),i=n.value.trim(),r=t.find(".note");if(this.Dom.removeClass(e,"error"),this.Dom.addClass(e,"valid"),this.Dom.removeClass(n,"error"),this.Dom.addClass(n,"valid"),!o)return this.Dom.addClass(e,"error"),void this.Dom.textContent(r,"Xin vui lòng nhập tên");if(!i)return this.Dom.addClass(n,"error"),void this.Dom.textContent(r,"Xin vui lòng nhập email");if(!Object($.C)(i))return this.Dom.addClass(n,"error"),void this.Dom.textContent(r,"Xin vui lòng nhập đúng định dạng email");this.Dom.textContent(r,""),this.app.trigger(et.a.USER_INFO_CHANE,{name:o,email:i});var a=this.$el.find(".username");a&&this.Dom.textContent(a,o),this.$profileEl||(this.prepend(this.renderProfile()),this.bindEventsUser()),this.dialogChangeUserInfo.close(),this.dialogChangeUserInfo.destroy(),delete this.dialogChangeUserInfo}},{key:"handleChangeUserName",value:function(){if(this.dialogConnectZalo&&(this.dialogConnectZalo.close(),this.dialogConnectZalo.destroy(),delete this.dialogConnectZalo),this.dialogChangeUserInfo||(this.dialogChangeUserInfo=new G.a(nt.d)),this.app.isLogged){var t=this.app.profile,e=this.dialogChangeUserInfo.$el;e.find(".inputName").value=t.name,e.find(".inputEmail").value=t.email}this.dialogChangeUserInfo.show(),this.dialogChangeUserInfo.on(G.a.EVENTS.OK,this.handleChangeUserNameOk)}},{key:"focus",value:function(){this.$textAreaEl.focus()}},{key:"resetContent",value:function(){this.$textAreaEl.value=""}},{key:"renderProfile",value:function(t){var e=this.app.profile,n=t?'<img class="avatar" src="'.concat(e.avatar,'" width="20" height="20" alt="avatar">'):'<span class="avatar">'.concat(I(e.name),"</span>");return this.$profileEl=this.Dom.createElFromHTML('<p class="comment-author">\n                '.concat(n,'\n                <strong class="username">').concat(e.name,'</strong>\n                <a title="Đổi tên hiển thị" class="btnChangeName"> Đổi tên hiển thị</a>\n            </p>')),!t&&this.Dom.setStyles(this.$profileEl.find(".avatar"),A()),this.$userNameEl=this.$profileEl.find(".btnChangeName"),this.$profileEl}},{key:"render",value:function(){y()(v()(r.prototype),"render",this).call(this),this.app.isLogged&&this.append(this.renderProfile(this.app.isLogged)),this.$wrapperEl=this.Dom.createEl("div",{className:"comment-editor"}),this.$textAreaEl=this.Dom.createEl("textarea",{className:"comment-input"},{id:"form-"+Object($.H)(0,1e3),name:"comment",placeholder:this.placeholder}),tt()(this.$textAreaEl),this.$wrapperEl.append(this.$textAreaEl),this.$el.append(this.$wrapperEl),this.$btnSubmitEl=this.Dom.createEl("a",{className:"button btnSubmit"},{},this.options.submitLabel),this.$el.append(this.$btnSubmitEl),this.options.hasBtnClose&&(this.$btnCloseEl=this.Dom.createEl("a",{className:"button ".concat(this.options.isLive?"btnCloseExpand":"btnClose")},{},"Đóng"),this.$el.append(this.$btnCloseEl));var t=this.Dom.createEl("p",{className:"note",innerHTML:'<span class="wordcount">Ý kiến của bạn sẽ được biên tập trước khi đăng.<br/> Xin vui lòng gõ tiếng Việt có dấu.</span>'});return this.$wordCountEl=t.find(".wordcount"),this.$el.append(t),this.$el}},{key:"bindEvents",value:function(){this.$textAreaEl.on("keydown",this.handleTextAreaChange),this.$textAreaEl.on("focus",this.handleTextAreaFocus),this.$textAreaEl.on("blur",this.handleTextAreaBlur),this.$btnSubmitEl.on("click",this.handleSubmitForm),this.$btnCloseEl&&this.$btnCloseEl.on("click",this.close)}},{key:"bindEventsUser",value:function(){this.$userNameEl&&this.$userNameEl.on("click",this.handleChangeUserName)}},{key:"unbindEvents",value:function(){this.$textAreaEl.off("keydown",this.handleTextAreaChange),this.$textAreaEl.off("focus",this.handleTextAreaFocus),this.$textAreaEl.off("blur",this.handleTextAreaBlur),this.$btnSubmitEl.off("click",this.handleSubmitForm),this.$btnCloseEl&&this.$btnCloseEl.off("click",this.close)}},{key:"unBindEventsUser",value:function(){this.$userNameEl&&this.$userNameEl.off("click",this.handleChangeUserName)}},{key:"close",value:function(){this.options.isLive?(this.collapse(),this.$textAreaEl.value=""):(this.addClass("hide"),this.resetContent(),this.wordCount=0)}},{key:"destroy",value:function(){this.unbindEvents(),this.$el.remove()}}]),r}(k.a);function at(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=v()(t);if(e){var i=v()(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return f()(this,n)}}var mt=function(t){u()(n,t);var e=at(n);function n(t){var o;return s()(this,n),(o=e.call(this)).module=t,o.handleSort=o.handleSort.bind(l()(o)),o.sortSelected=o.module.SORT.WEIGHT,o.render(),o.bindEvents(),o}return h()(n,[{key:"name",get:function(){return"CommentHeader"}}]),h()(n,[{key:"setTotalComment",value:function(t){t&&(this.$totalComment.innerHTML="(".concat(t,")"))}},{key:"render",value:function(){return this.$el=this.Dom.createEl("div",{className:"list-header hide"}),this.$el.innerHTML='<h4 class="list-title">Ý kiến bạn đọc <strong></strong> </h4>\n            <div class="list-sort-box">\n                <span class="sort-seleted">\n                    <span>Nổi bật</span>\n                    <ul class="list-sorting">\n                        <li value="weight" class="sort-featured active">Nổi bật</li>\n                        <li value="newest" class="sort-time">Mới nhất</li>\n                    </ul>\n                </span>\n            </div>',this.$totalComment=this.find(".list-header strong"),this.$sortSelected=this.find(".sort-seleted span"),this.$sortEls=this.$el.findAll("li"),this.$el}},{key:"bindEvents",value:function(){var t=this;this.$sortEls.forEach((function(e){e.on("click",t.handleSort)}))}},{key:"handleSort",value:function(t){var e=t.toElement.getAttribute("value");e!==this.sortSelected&&(this.$sortSelected.textContent=t.toElement.textContent,this.sortSelected=e,this.module.options.query.p=1,this.module.options.query.sort=e,this.module.commentList.empty(),this.module.fetchAddComments())}}]),n}(k.a),st=n(61);n(269);function ct(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=v()(t);if(e){var i=v()(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return f()(this,n)}}var lt=function(t){u()(o,t);var e,n=ct(o);function o(t,e,i){var r;if(s()(this,o),r=n.call(this,t,i),!e)throw new Error("".concat(r.name," $parentEl is required"));return r.articleId=i.articleId||Object($.l)(),r.options=Object(U.a)(r.defaultOptions,i),r.comments=[],r.hasMore=!1,r.recentComments=0,r.handleViewMore=r.handleViewMore.bind(l()(r)),r.commentList=new _(l()(r)),r.commentFilter=new mt(l()(r)),r.commentForm=new rt(l()(r),null,{isLive:r.options.isLive}),r.options.isLive&&(r.options.query.sort=r.SORT.NEWEST),r.render(),r.bindEvents(),r.$parentEl=e,r.$parentEl.appendChild(r.$el),r.fetchAddComments(),r.options.isLive&&r.scheduleUpdate(),r}return h()(o,[{key:"name",get:function(){return"CommentModule"}},{key:"SORT",get:function(){return{WEIGHT:"weight",NEWEST:"newest"}}},{key:"defaultOptions",get:function(){return{query:{articleid:this.articleId,p:1,c:30,commentid:"",sort:this.SORT.WEIGHT,appversion:this.app.ZAPPID,platform:this.app.DEVICE.type},isLive:!1,articleId:""}}}]),h()(o,[{key:"beforeFetchData",value:function(){this.$commentListWrapper&&this.Dom.addClass(this.$commentListWrapper,"loading")}},{key:"afterFetchData",value:function(){this.$commentListWrapper&&this.Dom.removeClass(this.$commentListWrapper,"loading"),this.$btnLoadMoreEl&&(this.Dom.toggleClass(this.$btnLoadMoreEl,"hide",!this.hasMore),this.$btnLoadMoreEl.setAttribute("next-page",this.options.query.p))}},{key:"scheduleUpdate",value:function(){var t=this;setTimeout(a()(i.a.mark((function e(){var n,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchData();case 2:(n=e.sent)&&n.data&&(o=n.data.comments,t.commentList.refreshComents(o),t.scheduleUpdate());case 4:case"end":return e.stop()}}),e)}))),1e4)}},{key:"fetchData",value:function(t){var e=t||this.options.query;return Object($.i)(L.g.COMMENT_GET,e)}},{key:"fetchAddComments",value:(e=a()(i.a.mark((function t(){var e,n,o,r,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.beforeFetchData(),t.next=3,this.fetchData();case 3:(e=t.sent)&&e.data&&(n=e.data,o=n.comments,r=n.total_comment,this.totalComment=r,this.recentComments+=o.reduce((function(t,e){return t+(1+e.replycount)}),0),(a=!H.a.empty(o))&&(this.commentFilter.setTotalComment(r),this.commentList.addComments(o),this.hasMore=!0,this.commentFilter&&this.Dom.removeClass(this.commentFilter.$el,"hide"),(o.length<=3||this.options.isLive)&&this.Dom.addClass(this.commentList.$el,"expanded")),this.hadTriggerRenderCmts||(this.app.trigger(et.a.RENDERED_COMMENTS),this.hadTriggerRenderCmts=!0),(this.recentComments==r&&this.Dom.hasClass(this.commentList.$el,"expanded")||!a)&&(this.hasMore=!1,this.Dom.removeFromDom(this.$btnLoadMoreEl)),r||(this.addEmptyCmts(),this.Dom.addClass(this.commentList.$el,"hide"),this.options.isLive&&this.Dom.addClass(this.$loaderLive,"hide"))),this.afterFetchData();case 6:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"handleViewMore",value:function(){var t=!1;this.Dom.hasClass(this.commentList.$el,"expanded")?this.hasMore&&(this.options.query.p++,this.fetchAddComments(),t=!0):(this.Dom.addClass(this.commentList.$el,"expanded"),t=!0),this.recentComments===this.totalComment&&(this.hasMore=!1,this.Dom.removeFromDom(this.$btnLoadMoreEl)),t&&this.app.trigger(et.a.VIEW_MORE_COMMENTS)}},{key:"render",value:function(){this.$el=this.Dom.createEl("div",{className:"comment-widget"}),this.$commentListWrapper=this.Dom.createEl("div",{className:"comment-list"}),this.options.isLive||this.$commentListWrapper.appendChild(this.commentFilter.$el),this.$commentListWrapper.appendChild(this.commentForm.$el),this.$commentListWrapper.appendChild(this.commentList.$el),this.$btnLoadMoreEl=this.Dom.createEl("a",{className:"btnMore hide"},{},"Xem thêm bình luận"),this.$commentListWrapper.appendChild(this.$btnLoadMoreEl),this.$loadingEl=this.Dom.createElFromHTML(st.b),this.$commentListWrapper.appendChild(this.$loadingEl),this.$el.appendChild(this.$commentListWrapper),this.options.isLive&&(this.Dom.addClass(this.$el,"live"),this.Dom.addClass(this.$el,"simple"),this.renderLoaderLive(),this.commentForm.collapse())}},{key:"renderLoaderLive",value:function(){this.$loaderLive=this.Dom.createElFromHTML('<div class="list-header">\n                '.concat(st.b,"\n            </div>")),Object(D.g)(this.commentForm.$el,this.$loaderLive)}},{key:"addEmptyCmts",value:function(){this.$empty=this.Dom.createElFromHTML('<p class="empty">\n                <span class="ti-flag-alt-2"></span><br/>\n                Trở thành người đầu tiên bình luận cho bài viết này!\n            </p>'),this.$el.appendChild(this.$empty)}},{key:"bindEvents",value:function(){this.$btnLoadMoreEl.on("click",this.handleViewMore)}}]),o}(x.a)}}]);